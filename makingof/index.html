<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8">

  <title>De Casa al Cole</title>

  <meta name="description" content="Herramienta para ordenar coles">
  <meta name="author" content="Jorge Sanz">

  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
  <link rel="shortcut icon" type="image/png" href="../images/favicon.ico" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

  <link rel="stylesheet" href="../reveal/css/reveal.min.css">
  <link rel="stylesheet" href="../reveal/css/theme/serif.css" id="theme">
  <link rel="stylesheet" href="style.css">
  <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css" rel="stylesheet">

  <!-- For syntax highlighting -->
  <link rel="stylesheet" href="../reveal/lib/css/zenburn.css">

  <!-- If the query includes 'print-pdf', include the PDF print sheet -->
  <script>
  if (window.location.search.match(/print-pdf/gi)) {
    var link = document.createElement('link');
    link.rel = 'stylesheet';
    link.type = 'text/css';
    link.href = '../reveal/css/print/pdf.css';
    document.getElementsByTagName('head')[0].appendChild(link);
  }
  </script>

  <!--[if lt IE 9]>
        <script src="lib/js/html5shiv.js"></script>
        <![endif]-->
</head>

<body>

  <div class="reveal">

    <!-- Any section element inside of this container is displayed as a slide -->
    <div class="slides">
      <section>
        <div>
            <img src="../images/logo100.png" style="height:300px;" class="noframe">
        </div>
        <div>
          <h1>Making of</h1>
        </div>
        <div>
            <p>
              Jorge Sanz · <a href="http://twitter.com/xurxosanz">@xurxosanz</a><br>
              <a href="http://decasaalcole.github.io/talks/makingof">decasaalcole.github.io/talks/makingof</a>
            </p>
        </div>
      </section>

      <!-- Primera parte Motivación -->
      <section>
        <section>
          <h1><i class="fa fa-plug fa-lg"></i></h1>
          <h2>Motivación</h2>
        </section>
        <section>
          <h2><strong>problema</strong>:</h2>
          <h3>¿qué colegios están
            <strong>cerca</strong> de mi casa?</h3>
        </section>
        <section>
          <h2>¿<strong>quién</strong> tiene este problema?</h2>
        </section>
        <section>
          <h2><strong>Profesionales</strong> de la educación en
            concurso de traslado y <strong>padres</strong></h2>
        </section>

        <section>
          <h2>¿cómo ordenarías los colegios en
            función del <strong>tiempo de viaje</strong> hasta tu casa?</h2>
        </section>
        <section>
          <h2>¿calcular <strong>uno a uno</strong>
              todos los trayectos?</h2>
        </section>
        <section>
            <div>
              <img src="../images/facepalm.jpg">
            </div>
        </section>
        <section>
            <div>
              <img src="../images/logo100.png" class="noframe" style="width:20%;">
            </div>
            <blockquote>
              <h2>&laquo;<strong>acortamos</strong> el camino hacia la
                <strong>decisión</strong> inteligente&raquo;</h2>
            </blockquote>
        </section>
        <section>
            <h2><strong>¿cómo?</strong><br/>
              sistema de
              <em>ordenación</em> de colegios en función del
              <em>tiempo</em> de viaje</h2>
        </section>
      </section>

      <!-- Segunda parte los datos -->
      <section>
        <section>
          <h1><i class="fa fa-database fa-lg"></i></h1>
          <h2>Los datos</h2>
        </section>
        <section>
          <h2>Colegios</h2>
          <ul>
            <li>Publicados por la
              <a href="http://www.cece.gva.es/ocd/areacd/es/descargas.htm">GVA</a></li>
            <li>&#8776;<strong>3500</strong> registros</li>
            <li>Primero en <tt>mdb</tt>, ahora en <tt><strong>ods</strong></tt>
                y <tt>pdf</tt> </li>
            <li>Nombre, datos de contacto, dirección postal,<br/>
                <strong>coordenadas geográficas</strong>, régimen</li>
            <li>ODS
              <i class="fa fa-long-arrow-right"></i> CSV
              <i class="fa fa-long-arrow-right"></i> <strong>SHP</strong>
              <i class="fa fa-long-arrow-right"></i> <i class="fa fa-database fa-lg"></i></li>
          </ul>
        </section>
        <section>
          <h2>Colegios</h2>
          <ul>
            <li>A nivel nacional el
              <a href="https://www.educacion.gob.es/centros/home.do">MinEd</a>
              publica en HTML <i class="fa fa-frown-o fa-lg"></i></li>
            <li class="fragment fade-in">Estamos trabajando en ello...</li>
            <li class="fragment fade-in">Pero ese tema para otro día</li>
          </ul>
        </section>
        <section>
          <h2>Códigos postales</h2>
          <ul>
            <li></li>
            <li>Punteado <strong>a mano</strong> el centro urbano<br/>
              de cada código postal</li>
            <li><strong>SHP</strong>
              <i class="fa fa-long-arrow-right"></i> <i class="fa fa-database fa-lg"></i></li>
          </ul>
        </section>
        <section>
          <h2>Preparación de datos de OSM</h2>
          <ul>
            <li>¡OpenStreetMap es una <strong>base de datos</strong>!</li>
            <li>Descarga del <strong>PBF</strong> de España
              de <a href="http://download.geofabrik.de/europe/spain.html">Geofabrik</a> </li>
            <li>Con <a href="https://wiki.openstreetmap.org/wiki/Osmosis">Osmosis</a>
              <ul>
                <li>Extración por coordenadas con <tt>--bounding-box</tt> (<a href="https://wiki.openstreetmap.org/wiki/Osmosis#Extracting_bounding_boxes">doc</a>)</li>
                <li>Exracción de las vías con <tt>--tag-filter</tt> (<a href="https://wiki.openstreetmap.org/wiki/Osmosis/Detailed_Usage#--tag-filter_.28--tf.29">doc</a> ) </li>
              </ul>
            </li>
          </ul>
        </section>
        <section>
          <div><img src="../images/osrm.png"
            style="width:50%;" alt="OSRM" class="noframe"></div>
          <h2>Cálculo masivo <br/> de tiempos de viaje</h2>
        </section>
        <section>
          <h2>¿Qué es OSRM?</h2>
          <ul>
            <li>Dos proyectos: <strong>servidor</strong> y cliente</li>
            <li>Servidor de cálculos de rutas altamente <strong>eficiente</strong></li>
            <li>Enfocado a usar datos de <strong>OpenStreetMap</strong></li>
          </ul>
        </section>
        <section>
          <h2>Poner en marcha OSRM</h2>
          <ol>
            <li>Descargar el código fuente de OSRM </li>
            <li>Compilar el <em>software</em></li>
            <li>Preparar la cartografía para un perfil (en coche)</li>
            <li>Arrancar el servidor y comprobar que funciona</li>
          </ol>
        </section>
        <section>
          <h2>Cálculo de tiempos de viaje</h2>
          <ul>
            <li>
              <a href="https://github.com/decasaalcole/decasaalcole-web/blob/master/process/process_cp.py">
                Script
              </a> en Python</li>
            <li>Carga un SHP de códigos postales</li>
            <li>Ordena por código</li>
            <li>Abre un CSV nuevo</li>
            <li>Recorre la lista de códigos postales pidiendo<br/>
              a OSRM el tiempo y distancia de
              <strong>ida y vuelta</strong></li>
            <li>Se generan <em>n*n-1</em> registros &#8776;
            <strong>600.000</strong> </li>
            <li class="fragment fade-in">CSV
              <i class="fa fa-long-arrow-right"></i>
              <strong>SHP</strong>
              <i class="fa fa-long-arrow-right"></i>
              <i class="fa fa-database fa-lg"></i>  &#128561;
              <ul>
                <li>No podemos subir tablas sin geometrías</li>
                <li>En CSV <strong>todo</strong> son cadenas de texto</li>
              </ul>
            </li>
          </ul>
        </section>
      </section>

      <!-- Tercera parte: los servicios -->
      <section>
        <section>
          <img src="../images/cartodb.png" alt="CartoDB" class="noframe">
        </section>
        <section>
          <h1><i class="fa fa-map-marker"></i></h1>
          <h2>Mapas dinámicos</h2>
        </section>
        <section>
          <h1><i class="fa fa-cogs"></i></h1>
          <h2>API de consulta</h2>
        </section>
      </section>


      <!-- Cuarta parte: las aplicaciones -->
      <section>
        <section>
          <h1><i class="fa fa-globe"></i></h1>
          <h2>Desarrollo de los clientes</h2>
        </section>
        <section>
          <h1><i class="fa fa-desktop"></i></h1>
          <h2>Cliente web</h2>
        </section>
        <section>
          <h1><i class="fa fa-mobile"></i></h1>
          <h2>Cliente móvil</h2>
        </section>
      </section>

      <!-- Cierre -->
      <section>
        <div>
          <img src="../images/equipo-300.jpg" style="height:300px;" class="noframe">
        </div>
        <div>
          <h1>¿Preguntas?</h1>
        </div>
        <div>
            <p>
              Jorge Sanz · <a href="http://twitter.com/xurxosanz">@xurxosanz</a><br>
              <a href="http://decasaalcole.github.io/talks/makingof">decasaalcole.github.io/talks/makingof</a>
            </p>
        </div>
      </section>
    </div>
  </div>

  <script src="../reveal/lib/js/head.min.js"></script>
  <script src="../reveal/js/reveal.min.js"></script>

  <script>
  // Full list of configuration options available here:
  // https://github.com/hakimel/reveal.js#configuration
  Reveal.initialize({
    // Display controls in the bottom right corner
    controls: true,
    // Display a presentation progress bar
    progress: true,
    // Display the page number of the current slide
    slideNumber: false,
    // Push each slide change to the browser history
    history: true,
    // Enable keyboard shortcuts for navigation
    keyboard: true,
    // Enable the slide overview mode
    overview: true,
    // Vertical centering of slides
    center: true,
    // Enables touch navigation on devices with touch input
    touch: true,
    // Loop the presentation
    loop: true,
    // Change the presentation direction to be RTL
    rtl: false,
    // Turns fragments on and off globally
    fragments: true,
    // Flags if the presentation is running in an embedded mode,
    // i.e. contained within a limited portion of the screen
    embedded: false,
    // Number of milliseconds between automatically proceeding to the
    // next slide, disabled when set to 0, this value can be overwritten
    // by using a data-autoslide attribute on your slides
    autoSlide: 0,
    // Stop auto-sliding after user input
    autoSlideStoppable: true,
    // Enable slide navigation via mouse wheel
    mouseWheel: false,
    // Hides the address bar on mobile devices
    hideAddressBar: true,
    // Opens links in an iframe preview overlay
    previewLinks: false,
    // Transition style
    transition: 'fade', // default/cube/page/concave/zoom/linear/fade/none
    // Transition speed
    transitionSpeed: 'fast', // default/fast/slow
    // Transition style for full page slide backgrounds
    backgroundTransition: 'fade', // default/none/slide/concave/convex/zoom
    // Number of slides away from the current that are visible
    viewDistance: 3,
    // Parallax background image
    parallaxBackgroundImage: '', // e.g. "'https://s3.amazonaws.com/hakim-static/reveal-js/reveal-parallax-1.jpg'"
    // Parallax background size
    parallaxBackgroundSize: '', // CSS syntax, e.g. "2100px 900px"


    // Optional libraries used to extend on reveal.js
    dependencies: [{
      src: '../reveal/lib/js/classList.js',
      condition: function() {
        return !document.body.classList;
      }
    }, {
      src: '../reveal/plugin/markdown/marked.js',
      condition: function() {
        return !!document.querySelector('[data-markdown]');
      }
    }, {
      src: '../reveal/plugin/markdown/markdown.js',
      condition: function() {
        return !!document.querySelector('[data-markdown]');
      }
    }, {
      src: '../reveal/plugin/highlight/highlight.js',
      async: true,
      callback: function() {
        hljs.initHighlightingOnLoad();
      }
    }, {
      src: '../reveal/plugin/zoom-js/zoom.js',
      async: true,
      condition: function() {
        return !!document.body.classList;
      }
    }, {
      src: '../reveal/plugin/notes/notes.js',
      async: true,
      condition: function() {
        return !!document.body.classList;
      }
    }]
  });
  </script>

</body>

</html>
